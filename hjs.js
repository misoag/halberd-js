/* Halberd-JS v2.3.5 | YJC <yangjiecong@4399.com> | MIT license */
!function(e,t,n){function r(e,t){return v&&(e===n?v:t===n?v.getAttribute("data-"+e):v.setAttribute("data-"+e,t))}function i(e,t){this.id=e,this.uri=t,this.exports={}}function a(e,t){return A[e]||(A[e]=t),a}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n,e)}function u(){if(x)return x;if(S&&"interactive"===S.readyState)return S;for(var e,n=t.getElementsByTagName("script"),r=n.length-1;r>=0;r--)if(e=n[r],"interactive"===e.readyState)return S=e}function s(e,t,n,r){var i=this;i.A=e,i.B=t,i.C=n||X.charset,(i.D=r)&&A[r]&&(i.E=1),i.F=0}function c(e,t,r){switch(arguments.length){case 3:break;case 2:r=t,Z(e)?(t=e,e=n):t=n;break;case 1:r=e,e=t=n;break;case 0:return w=n,c}if(!t&&X.debug&&"function"==typeof r&&(t=L(r.toString())),y)(w||(w=[])).push([e,t,r]);else{var i=u();i&&J.K(e,i.getAttribute(P),t,r)}return c}function f(e,t,n){this.U=e,this.R=n,this.V=t}function l(e){return W[e]||e}function h(e){return e===n?X:X[e]}function d(e,t,n){if(e)if(t&&"object"==typeof t&&!Z(t)&&(n=t,t=""),n)"object"==typeof n?(h.set(n),d(e,t)):J.c(n,function(n){d(e,t,n)});else{var r="function"==typeof e?function(){p(e)}:function(){J.c(e)};t?J.c(t,r):r()}}function p(e){var t=L(e.toString()),n=K+"#"+ ++g,r=q[n]=new f(n,e);t.length?r.c(t,function(){r.b(n)}):r.b(n)}if("function"!=typeof e.define||!e.define.hjs){var g,v=t.createElement("script"),y=!("onreadystatechange"in v)||"onload"in v&&(!t.documentMode||t.documentMode>=10);if(v=t.getElementById("halberd-js"),!v){var b=t.getElementsByTagName("script");for(g=b.length-1;g>=0;g--)if(b[g].getAttribute("data-main")){v=b[g];break}b=null}var m,A=i.prototype={},j=new i(1,1);A._util=A;var x,S,w,E=/^[\s\0]+/,O=/[\s\0]+$/,T=A.trim=function(e){return"string"==typeof e?e.replace(E,"").replace(O,""):"number"==typeof e?""+e:""},Z=A.is_array=function(e){return"object"==typeof e&&"[object Array]"===Object.prototype.toString.call(e)},_=/^[a-zA-Z]+:\/\/\/?[^/]+/,B=/\/+/g,F=/^(?:\/\.\.?\/)+/,M=/\/\.\.?$/,N=/[^/]*[?#].*$|[^/]+$/,$=/\/(?:\.\/)+/g,G=/\/[^/]+\/\.\.\//,I=A.absolute_url=function(e,t){var n=_.exec(e);for(n?(n=n[0],e=e.substr(n.length),"/"!==e.charAt(0)&&(e="/"+e)):(n=_.exec(t)[0],"/"!==e.charAt(0)&&(e="/"+t.substr(n.length).replace(N,"")+e)),M.test(e)&&(e+="/"),e=e.replace(B,"/").replace($,"/");G.test(e);)e=e.replace(G,"/");return n+e.replace(F,"/")},k=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*(?:require|module)|(?:^|[^$])\b(?:require\s*\(\s*(["'])(.+?)\1\s*\)|module\s*\.\s*([a-zA-Z_]+\w*))/g,H=/\\\\/g,L=A.parse_deps=function(e){var t=[];return e.replace(H,"").replace(k,function(e,n,r,i){i&&!j[i]&&(r="util/"+i),r&&t.push(r)}),t},D=(new Date).getTime(),P="data-halberdjsid",V={},W={},X={charset:"utf-8",version_mark:"hjs",debug:-1},C=t.getElementsByTagName("head")[0]||t.documentElement,U=C.getElementsByTagName("base")[0],Y={},q={};s.prototype={Q:function(){var e=t.createElement("script"),n=this;e.setAttribute(P,n.A),e.onload=e.onerror=e.onreadystatechange=function(){e.readyState&&"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onload=e.onerror=e.onreadystatechange=null,C.removeChild(e),e=null,n.J())},e.charset=n.C,e.async=!0;var r=X.debug>1?D:n.B||(X.debug>0?D:"");e.src=n.A+(r?(-1===n.A.indexOf("?")?"?":"&")+X.version_mark+"="+r:""),x=e,U?C.insertBefore(e,U):C.appendChild(e),x=null},J:function(){var e=this;w&&(o(w,function(t){J.K(t[0],e.A,t[1],t[2])}),w=n),e.L?(e.M=e.L,delete e.L,e.F=3,e.N()):e.O()},P:function(e){var t=this;t.E?e():(t.G?t.G.push(e):t.G=[e],t.F||(t.F=1,t.N()))},N:function(){var e=this;if(e.F){if(e.M){var t=0;if(o(e.M,function(n){n.E||(t=1,n.P(function(){e.N()}))}),t)return}e.F>2?e.O():(e.F=2,e.Q())}},T:function(){var e=this;if(e.hasOwnProperty("H"))return e.H;if(e.I){if(1===e.I.length)e.H=e.I[0].S();else{var t={};o(e.I,function(e){t[e.R]=e.S()}),e.H=t}return e.H}e.H=n},O:function(){var e=this;e.E=1,e.F=0,delete e.M,e.D&&a(e.D,e.T()[e.D]),e.G&&(o(e.G,function(t,r){t(),e.G[r]=n}),delete e.G)}};var K=e.location.href;U&&U.href&&(K=I(U.href,K));var R=(v&&v.src?I(v.src,K):K).replace(/[^/]+$/,""),z=/\?$/;f.prototype={X:function(e){var t=(e=T(e).replace(z,"")).length-1,n=e.indexOf("#"),r=e.charAt(t);if(n>0?e=e.substring(0,n):"/"!==r&&".js"!==e.substring(t-2)&&e.indexOf("?")<0&&(e+=".js"),e.indexOf("://")>0)return l(e);if(e=l(e),r=e.charAt(0),"."===r||"?"===r||""===r)return l(I(e,this.U));if("/"===r)return l(I(R+e));var i;return(n=e.indexOf("/"))>-1&&(i=V[e.substring(0,n)])&&(e=e.substring(n+1)),l((i||V[0]||R)+e)},Y:function(e){var t,n;if(Z(e)&&(t=e.length)){for(var r=0,i=[];t>r;r++)n=this.W(e[r]),n.A!==this.U&&i.push(n);return i}},W:function(e,t,n,r){"object"==typeof e&&e&&(t=e.version,r=e.charset,n=e.deps,e=e.id);var i,a=this.X(e);return z.test(e)&&(t=D),Y[a]?(i=Y[a],i.ready||i.loading||(n&&(i.M=this.Y(n)),t&&(i.version=t),r&&(i.charset=r)),i):(i=Y[a]=new s(a,t,r,0===e.indexOf("util/")&&e.substring(5)),n&&(i.M=this.Y(n)),i)},b:function(e){return(e=T(e))&&(q[e]||q[e=this.X(e)])?q[e].S():n},S:function(){var e=this;return e.Z?e.Z.exports:("function"==typeof e.V?(e.Z=new i(e.R,e.U),e.V(e.a(),e.Z.exports,e.Z)):e.Z={exports:e.V},delete e.V,e.Z.exports)},a:function(){var e=this,t=function(t){return e.b(t)};return t.async=function(t,n,r){e.c(t,n,r)},t.resolve=function(t){return e.X(t)},t},K:function(e,t,n,r){if(!q[e?t=this.X(e):t]){var i=Y[t];(i.I||(i.I=[])).push(q[t]=new f(t,r,e)),(n=q[t].Y(n))&&(i.L=i.L?i.L.concat(n):n)}},c:function(e,t,n){var r=this;if(n)r.c(n,function(){r.c(e,t)});else{"string"==typeof e&&(e=T(e).split(/\s+/));var i=e.length;if(1===i){var a=r.W(e[0]);a.P(function(){var e=a.T();"function"==typeof t&&t(e)})}else{var u=[];o(e,function(e){var n=r.W(e);u.push(n),n.P(function(){i--,0===i&&(o(u,function(e,t){u[t]=u[t].T()}),"function"==typeof t&&t.apply(this,u))})})}}}};var J=new f(R);h.set=function(e){var t,n,r=/\/*$/;if(e.paths)for(t in e.paths)V[t]=I(e.paths[t],K).replace(r,"/");if(delete e.paths,e.modules)for(t in e.modules)J.W(t,e.modules[t][0],e.modules[t][1],e.modules[t][2]);if(delete e.modules,e.alias)for(t in e.alias)W[t]=e.alias[t];delete e.alias,"function"==typeof e.autorun&&(n=e.autorun),delete e.autorun,delete e.set;for(t in e)X[t]=e[t];n&&n()},g=0,e.hjs=c.hjs={require:J.a(),config:h,main:d,core_script:r,ext:{apply_events:function(e){!m&&"function"==typeof e.emit&&(m=e)}},conflict:{hjs:e.hjs,define:e.define}},c.util=a,e.define=c,d(T(r("main")),T(r("deps")),T(r("config")))}}(window,document);
